---
tags:
  - 백엔드
  - 서버
---
# k3s 구조
```
[EC2 or Laptop]
	↓
k3s (쿠버네티스 경량)
	- kube-apiserver ← Control Plane
	- kubelet ← worker Node
	- containerd ← 컨테이너 런타임
	- traefik ← 기본 Ingress Controller
	- flannel ← 내부 네트워크 (CNI)
```
### Control Plane
쿠버네티스 전체 시스템의 두뇌 역할을 하며 노드, 파드, 서비스가 어떻게 배포되고 동작할지 결정한다.
- Kube-apiserver - 모든 명령은 여기를 거치게 된다.
- controller-manager - 파드가 죽거나 문제가 있을 경우 다시 띄우는 등의 상태 관리를 담당한다.
- scheduler - 새 파드를 어느 노드에 띄울지 결정한다.
- etcd - 쿠버네티스의 데이터베이스로 전체 상태를 저장한ㄷ,
### Worker Node
명령을 수행하는 역할을 한다.
- Kubelet - 컨트롤 플레인으로부터 명령을 받아서 컨테이너를 실행시키거나 상태를 보고한다.
- container runtime - 컨테이너를 실행시키는 엔진이다.
- Kube-proxy - 네트워크 트래픽을 Pod로 라우팅한다.
### Ingress
외부 트래픽이 쿠버네티스 내부 서비스로 들어오는 진입로
